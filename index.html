<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>欧式世系表生成器</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>欧式世系表生成器</h1>
        
        <!-- Tab 导航 -->
        <div class="tab-navigation">
            <button class="tab-button active" onclick="switchTab('husband', this)">丈夫信息</button>
            <button class="tab-button" onclick="switchTab('spouse', this)">配偶信息</button>
        </div>

        <!-- 丈夫信息表单 -->
        <div id="husband-tab" class="tab-content active">
            <div class="form-section">
                <h2>丈夫信息</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="husband-surname">姓：</label>
                        <input type="text" id="husband-surname" name="husbandSurname" maxlength="50" required>
                    </div>
                    <div class="form-group">
                        <label for="husband-firstname">名：</label>
                        <input type="text" id="husband-firstname" name="husbandFirstname" maxlength="100" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="husband-mother">母亲：</label>
                        <select id="husband-mother" name="husbandMother">
                            <option value="">请选择</option>
                            <!-- 此处可以通过JS动态添加选项 -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="husband-ranking">排行：</label>
                        <select id="husband-ranking" name="husbandRanking" onchange="handleRankingChange(this, 'husband-ranking-custom')">
                            <option value="">请选择</option>
                        </select>
                        <input type="text" id="husband-ranking-custom" name="husbandRankingCustom" placeholder="或手动输入" maxlength="100" style="display:none;">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="husband-zi">字：</label>
                        <input type="text" id="husband-zi" name="husbandZi" maxlength="50">
                    </div>
                    <div class="form-group">
                        <label for="husband-hao">号：</label>
                        <input type="text" id="husband-hao" name="husbandHao" maxlength="50">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="husband-alive">是否在世：</label>
                        <select id="husband-alive" name="husbandAlive">
                            <option value="是">是</option>
                            <option value="否">否</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="husband-age">享年：</label>
                        <input type="number" id="husband-age" name="husbandAge" min="0" max="200">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="husband-birthday">生日：</label>
                        <input type="text" id="husband-birthday" name="husbandBirthday" readonly placeholder="点击选择日期" onclick="openDateModal('husband-birthday')">
                    </div>
                    <div class="form-group">
                        <label for="husband-deathday">歿于：</label>
                        <input type="text" id="husband-deathday" name="husbandDeathday" readonly placeholder="点击选择日期" onclick="openDateModal('husband-deathday')">
                    </div>
                </div>

                <div class="form-group">
                    <label for="husband-burial">安厝地：</label>
                    <textarea id="husband-burial" name="husbandBurial" maxlength="500" rows="3"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="husband-school">学校：</label>
                        <input type="text" id="husband-school" name="husbandSchool" maxlength="200">
                    </div>
                    <div class="form-group">
                        <label for="husband-education">学历：</label>
                        <input type="text" id="husband-education" name="husbandEducation" maxlength="200">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="husband-company">单位：</label>
                        <input type="text" id="husband-company" name="husbandCompany" maxlength="200">
                    </div>
                    <div class="form-group">
                        <label for="husband-position">职务：</label>
                        <input type="text" id="husband-position" name="husbandPosition" maxlength="200">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="husband-origin">祖籍地：</label>
                        <input type="text" id="husband-origin" name="husbandOrigin" maxlength="200">
                    </div>
                    <div class="form-group">
                        <label for="husband-phone">电话：</label>
                        <input type="text" id="husband-phone" name="husbandPhone" maxlength="200">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="husband-wechat">微信：</label>
                        <input type="text" id="husband-wechat" name="husbandWechat" maxlength="200">
                    </div>
                    <div class="form-group">
                        <label for="husbandAvatar">上传头像：</label>
                        <input type="file" id="husbandAvatar" name="husbandAvatar" accept="image/*">
                    </div>
                </div>

                <div class="form-group">
                    <label for="husband-intro">简介：</label>
                    <textarea id="husband-intro" name="husbandIntro" maxlength="600" rows="4"></textarea>
                </div>
            </div>
        </div>

        <!-- 配偶信息表单 -->
        <div id="spouse-tab" class="tab-content">
            <div class="form-section">
                <h2>配偶信息</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="spouse-surname">姓：</label>
                        <input type="text" id="spouse-surname" name="spouseSurname" maxlength="50" required>
                    </div>
                    <div class="form-group">
                        <label for="spouse-firstname">名：</label>
                        <input type="text" id="spouse-firstname" name="spouseFirstname" maxlength="100" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="spouse-ranking">排行：</label>
                        <select id="spouse-ranking" name="spouseRanking" onchange="handleRankingChange(this, 'spouse-ranking-custom')">
                            <option value="">请选择</option>
                        </select>
                        <input type="text" id="spouse-ranking-custom" name="spouseRankingCustom" placeholder="或手动输入" maxlength="100" style="display:none;">
                    </div>
                    <div class="form-group">
                        <label for="spouse-marriage">婚配：</label>
                        <select id="spouse-marriage" name="spouseMarriage">
                            <option value="">请选择</option>
                            <option value="娶">娶</option>
                            <option value="继娶">继娶</option>
                            <option value="再娶">再娶</option>
                            <option value="又娶">又娶</option>
                            <option value="妣">妣</option>
                            <option value="继妣">继妣</option>
                            <option value="再妣">再妣</option>
                            <option value="又妣">又妣</option>
                            <option value="妻">妻</option>
                            <option value="适">适</option>
                            <option value="嫁">嫁</option>
                            <option value="正室">正室</option>
                            <option value="配">配</option>
                            <option value="原配">原配</option>
                            <option value="前妻">前妻</option>
                            <option value="继配">继配</option>
                            <option value="宠">宠</option>
                            <option value="妾">妾</option>
                            <option value="续">续</option>
                            <option value="又">又</option>
                            <option value="离异">离异</option>
                            <option value="入赘">入赘</option>
                            <option value="招婿">招婿</option>
                            <option value="孀赘">孀赘</option>
                            <option value="三娶">三娶</option>
                            <option value="四取">四取</option>
                            <option value="五取">五取</option>
                            <option value="六取">六取</option>
                            <option value="三妣">三妣</option>
                            <option value="四妣">四妣</option>
                            <option value="五妣">五妣</option>
                            <option value="六妣">六妣</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="spouse-alive">是否在世：</label>
                        <select id="spouse-alive" name="spouseAlive">
                            <option value="是">是</option>
                            <option value="否">否</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="spouse-age">享年：</label>
                        <input type="number" id="spouse-age" name="spouseAge" min="0" max="200">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="spouse-birthday">生日：</label>
                        <input type="text" id="spouse-birthday" name="spouseBirthday" readonly placeholder="点击选择日期" onclick="openDateModal('spouse-birthday')">
                    </div>
                    <div class="form-group">
                        <label for="spouse-deathday">歿于：</label>
                        <input type="text" id="spouse-deathday" name="spouseDeathday" readonly placeholder="点击选择日期" onclick="openDateModal('spouse-deathday')">
                    </div>
                </div>

                <div class="form-group">
                    <label for="spouse-burial">安厝地：</label>
                    <textarea id="spouse-burial" name="spouseBurial" maxlength="500" rows="3"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="spouse-school">学校：</label>
                        <input type="text" id="spouse-school" name="spouseSchool" maxlength="200">
                    </div>
                    <div class="form-group">
                        <label for="spouse-education">学历：</label>
                        <input type="text" id="spouse-education" name="spouseEducation" maxlength="200">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="spouse-company">单位：</label>
                        <input type="text" id="spouse-company" name="spouseCompany" maxlength="200">
                    </div>
                    <div class="form-group">
                        <label for="spouse-position">职务：</label>
                        <input type="text" id="spouse-position" name="spousePosition" maxlength="200">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="spouse-origin">祖籍地：</label>
                        <input type="text" id="spouse-origin" name="spouseOrigin" maxlength="200">
                    </div>
                    <div class="form-group">
                        <label for="spouse-phone">电话：</label>
                        <input type="text" id="spouse-phone" name="spousePhone" maxlength="200">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="spouse-wechat">微信：</label>
                        <input type="text" id="spouse-wechat" name="spouseWechat" maxlength="200">
                    </div>
                    <div class="form-group">
                        <label for="spouseAvatar">上传头像：</label>
                        <input type="file" id="spouseAvatar" name="spouseAvatar" accept="image/*">
                    </div>
                </div>

                <div class="form-group">
                    <label for="spouse-intro">简介：</label>
                    <textarea id="spouse-intro" name="spouseIntro" maxlength="600" rows="4"></textarea>
                </div>
            </div>
        </div>

        <form id="genealogyForm">
            <button type="submit" class="submit-btn">生成世系表</button>
        </form>

        <div id="genealogyTable" class="genealogy-table">
            <!-- 世系表将在这里动态生成 -->
        </div>
    </div>
    <!-- 日期选择模态窗口 -->
    <div id="dateModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>选择日期</h3>
                <span class="close" onclick="closeDateModal()">&times;</span>
            </div>
            <div class="modal-body">
                <!-- 日期类型选择 -->
                <div class="date-tab-navigation">
                    <button class="date-tab-button active" onclick="switchDateTab('solar')">公历</button>
                    <button class="date-tab-button" onclick="switchDateTab('lunar')">农历</button>
                    <button class="date-tab-button" onclick="switchDateTab('custom')">自定义</button>
                </div>

                <!-- 公历选择 -->
                <div id="solar-tab" class="date-tab-content active">
                    <div class="date-row">
                        <div class="date-group">
                            <label>年：</label>
                            <select id="solar-year">
                                <!-- 通过JS动态生成 -->
                            </select>
                        </div>
                        <div class="date-group">
                            <label>月：</label>
                            <select id="solar-month">
                                <!-- 通过JS动态生成 -->
                            </select>
                        </div>
                        <div class="date-group">
                            <label>日：</label>
                            <select id="solar-day">
                                <!-- 通过JS动态生成 -->
                            </select>
                        </div>
                        <div class="date-group">
                            <label>时辰：</label>
                            <select id="solar-hour">
                                <option value="">请选择</option>
                                <option value="子时">子时(23:00-1:00)</option>
                                <option value="丑时">丑时(1:00-3:00)</option>
                                <option value="寅时">寅时(3:00-5:00)</option>
                                <option value="卯时">卯时(5:00-7:00)</option>
                                <option value="辰时">辰时(7:00-9:00)</option>
                                <option value="巳时">巳时(9:00-11:00)</option>
                                <option value="午时">午时(11:00-13:00)</option>
                                <option value="未时">未时(13:00-15:00)</option>
                                <option value="申时">申时(15:00-17:00)</option>
                                <option value="酉时">酉时(17:00-19:00)</option>
                                <option value="戌时">戌时(19:00-21:00)</option>
                                <option value="亥时">亥时(21:00-23:00)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- 农历选择 -->
                <div id="lunar-tab" class="date-tab-content">
                    <div class="date-row">
                        <div class="date-group">
                            <label>年：</label>
                            <select id="lunar-year">
                                <!-- 通过JS动态生成 -->
                            </select>
                        </div>
                        <div class="date-group">
                            <label>月：</label>
                            <select id="lunar-month">
                                <option value="">请选择</option>
                                <option value="正月">正月</option>
                                <option value="二月">二月</option>
                                <option value="三月">三月</option>
                                <option value="四月">四月</option>
                                <option value="五月">五月</option>
                                <option value="六月">六月</option>
                                <option value="七月">七月</option>
                                <option value="八月">八月</option>
                                <option value="九月">九月</option>
                                <option value="十月">十月</option>
                                <option value="冬月">冬月</option>
                                <option value="腊月">腊月</option>
                            </select>
                        </div>
                        <div class="date-group">
                            <label>日：</label>
                            <select id="lunar-day">
                                <!-- 通过JS动态生成 -->
                            </select>
                        </div>
                        <div class="date-group">
                            <label>时辰：</label>
                            <select id="lunar-hour">
                                <option value="">请选择</option>
                                <option value="子时">子时(23:00-1:00)</option>
                                <option value="丑时">丑时(1:00-3:00)</option>
                                <option value="寅时">寅时(3:00-5:00)</option>
                                <option value="卯时">卯时(5:00-7:00)</option>
                                <option value="辰时">辰时(7:00-9:00)</option>
                                <option value="巳时">巳时(9:00-11:00)</option>
                                <option value="午时">午时(11:00-13:00)</option>
                                <option value="未时">未时(13:00-15:00)</option>
                                <option value="申时">申时(15:00-17:00)</option>
                                <option value="酉时">酉时(17:00-19:00)</option>
                                <option value="戌时">戌时(19:00-21:00)</option>
                                <option value="亥时">亥时(21:00-23:00)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- 自定义输入 -->
                <div id="custom-tab" class="date-tab-content">
                    <div class="date-group">
                        <label>自定义日期：</label>
                        <textarea id="custom-date" maxlength="200" rows="3" placeholder="请输入自定义日期格式..."></textarea>
                    </div>
                </div>

                <!-- 预览区域 -->
                <div class="date-preview">
                    <h4>预览：</h4>
                    <div id="date-preview-text">请选择日期</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="confirmDate()">确定</button>
                <button class="btn btn-secondary" onclick="closeDateModal()">取消</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    
</body>
</html> 